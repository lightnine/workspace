# Workspace Backend Configuration

server:
  host: "0.0.0.0"
  port: 8080
  mode: "debug"  # debug, release, test

database:
  host: "localhost"
  port: 5432
  user: "postgres"
  password: "leondli123"
  dbname: "workspace"
  sslmode: "disable"
  max_idle_conns: 10
  max_open_conns: 100
  conn_max_lifetime: 3600  # seconds

jwt:
  secret: "your-secret-key-change-in-production"
  access_token_expiry: 3600      # 1 hour in seconds
  refresh_token_expiry: 604800   # 7 days in seconds
  issuer: "workspace"

storage:
  base_path: "/Users/leondli/mnt/workspace"  # JuiceFS mount point
  version_path: "/Users/leondli/mnt/workspace/.versions"  # Version snapshots storage

log:
  level: "debug"  # debug, info, warn, error
  format: "console"  # console, json
  output: "both"  # stdout, file, both
  file_path: "/Users/leondli/go/src/workspace/backend/logs/server.log"

kernel:
  python_path: ""  # Leave empty to auto-detect, or set to specific Python path
  execution_timeout: 300  # seconds
  gateway:
    enabled: false  # Set to true to enable remote gateway mode
    url: ""  # Gateway server URL, e.g., http://gateway:8888
    auth_token: ""  # Authentication token for gateway
    connect_timeout: 30  # Connection timeout in seconds
    request_timeout: 60  # Request timeout in seconds
    ws_ping_interval: 30  # WebSocket ping interval in seconds
    validate_cert: true  # Validate SSL certificate
    launch_timeout: 60  # Kernel launch timeout in seconds
    http_user: ""  # HTTP Basic Auth username (optional)
    http_password: ""  # HTTP Basic Auth password (optional)
    headers: ""  # Custom headers as JSON string (optional)
    client_cert: ""  # Client certificate path (optional)
    client_key: ""  # Client key path (optional)
    ca_certs: ""  # CA certificates path (optional)
